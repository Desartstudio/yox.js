function Yox(a,c){this.container=a;this.options=c||{};this.init()}
Yox.prototype={init:function(){if(this.options.theme){var a=yox.themes[this.options.theme],c;this.options.data&&(c=this.options.data instanceof yox.data?this.options.data:new yox.data(this.options.data));if(!a)throw Error("Invalid theme, '"+this.options.theme+"' does not exist.");var b=new a(c,$.extend({},a.defaults,this.options));if(!(b instanceof yox.theme))throw Error("Invalid theme, '"+this.options.theme+"' is not an instance of yox.theme.");b.init(this.container,c,this.options);$.extend(this,
{addEventListener:b.addEventListener,destroy:function(){for(var a in this.modules){var c=this.modules[a],e=c.destroy;e&&e.call(c)}b.destroy.call(b)},modules:b.modules,triggerEvent:b.triggerEvent,data:c})}delete this.init}};yox="undefined"===typeof yox?{}:yox;
$.fn.yox=function(a){return!this.length?this:this.each(function(c,b){var d=$(this).data("yox");if("string"===typeof a&&d)if(d&&d[a])d[a].apply(d,Array.prototype.slice.call(arguments,1));else throw Error("Invalid method '"+a+"'");else Object(a)===a||!a?$(this).data("yox",new Yox(this,a)):$.error("Method "+a+" does not exist on Yox.")})};
yox.utils={browser:{getCssPrefix:function(){if(arguments.callee.cache)return arguments.callee.cache;var a="-"+yox.utils.browser.getPrefix().toLowerCase()+"-";return this.cache=a},getPlatform:function(){if(arguments.callee.platform)return arguments.callee.platform;arguments.callee.platform=/(Android)|(iPhone)|(iPod)/.test(navigator.userAgent)||4E5>screen.width*screen.height?this.platforms.mobile:this.platforms.desktop;return arguments.callee.platform},getPrefix:function(){if(arguments.callee.cache)return arguments.callee.cache;
for(var a=["Moz","Webkit","O","ms"],c=document.createElement("div"),b,d,f,e=0;e<a.length&&!f;e++)d=a[e],b=d+"Transform",b in c.style&&(f=d);return arguments.callee.cache=f},platforms:{desktop:"desktop",mobile:"mobile"}},css:{addJqueryCssHook:function(a){if("undefined"===typeof jQuery)return!1;var c=yox.utils.css.getSupportedProperty(a);c&&c!==a&&(jQuery.cssHooks[a]={get:function(a){return $.css(a,c)},set:function(a,d){a.style[c]=d}});return!0},addJqueryCssHooks:function(a){for(var c=a.length;c--;)yox.utils.css.addJqueryCssHook(a[c])},
getSupportedProperty:function(a){var c,b;c=a.charAt(0).toUpperCase()+a.slice(1);var d=yox.utils.browser.getPrefix(),f=document.createElement("div");a in f.style?b=a:(c=d+c,c in f.style&&(b=c));return $.support[a]=b}},dom:{isElement:Object(HTMLElement)===HTMLElement?function(a){return a instanceof HTMLElement}:Object(Element)===Element?function(a){return a instanceof Element}:function(){return Object(el)===el&&1===el.nodeType&&"string"===typeof el.nodeName}},dimensions:{distributeMeasures:function(a){var c=
{top:0,bottom:0,left:0,right:0};if(a){var b="number"===typeof a,d;for(d in c)c[d]=b?a:a[d]||0}c.horizontal=c.left+c.right;c.vertical=c.top+c.bottom;return c},resize:{fill:function(a,c,b){b=b||{};a.ratio=a.ratio||a.height/a.width;var d=b.enlarge?c.width:Math.min(a.width,c.width),f=Math.round(d*a.ratio),e=c.height;if(f<e&&(e<=a.height||b.enlarge))f=e,d=Math.round(f/a.ratio);return{left:Math.round((c.width-d)/2),top:Math.round((c.height-f)/2),width:Math.round(d),height:Math.round(f)}},fit:function(a,
c,b){b=b||{};a.ratio=a.ratio||a.height/a.width;var d=b.margin||{},f=b.padding||{},e=c.width-(d.horizontal||0)-(f.horizontal||0),b=b.enlarge?e:Math.min(a.width,e),e=Math.round(b*a.ratio),h=c.height-(d.vertical||0)-(f.vertical||0);e>h&&(e=h,b=Math.round(e/a.ratio));return{left:(c.width-(d.left||0)-(d.right||0)-b)/2+(d.left||0)-(f.left||0),top:(c.height-(d.top||0)-(d.bottom||0)-e)/2+(d.top||0)-(f.top||0),width:b,height:e}}}},url:{queryToJson:function(a){if(!a)return null;for(var a=a.split("&"),c={},
b=a.length;b--;){var d=a[b].split("=");c[d[0]]=2==d.length?d[1]:!0}return c}}};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),b=this,d=function(){},f=function(){return b.apply(this instanceof d?this:a||window,c.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;f.prototype=new d;return f});
yox.eventsHandler=function(){var a={_default:{}};this.triggerEvent=function(c,b,d){var f=c.split("."),c=f[0];if(f=f[1])if(f=a[f]){var e=f[c];if(e)for(var f=0,h;h=e[f];f++)h.call(this,b,d)}if(c=a._default[c])for(f=0;h=c[f];f++)h.call(this,b,d)};this.addEventListener=function(c,b){var d=c.split("."),f=d[0],e=d[1];e?(d=a[e])||(d=a[e]={}):d=a._default;(e=d[f])||(e=d[f]=[]);e.push(b)};this.removeEventListener=function(c,b){var d=c.split("."),f=d[0],e=d[1],h,d=!1;e?(h=a[e])||(h=a[e]={}):h=a._default;if((f=
h[f])&&f.length)for(e=f.length;e--;)f[e]===b&&(f.splice(e,1),d=!0);return d}};yox.data=function(a){this.data=[];this.options=$.extend(!0,{},this.defaults,a);a=this.options.eventsHandler||new yox.eventsHandler;$.extend(this,a);if(this.options.events)for(var c in this.options.events)this.addEventListener(c,this.options.events[c]);this.options.source&&this.addSources(this.options.source)};
yox.data.prototype={defaults:{cache:!1},addSources:function(a){var c=[],b=a instanceof Array?a:arguments,d=this;this.triggerEvent("loadSourcesStart",b);this.isLoading=!0;for(var f=0;f<b.length;f++){var e=this.loadSource(b[f]);e&&c.push(e)}$.when.apply(this,c).done(function(){for(var a=0;a<arguments.length;a++)d.data.push(arguments[a]);d.isLoading=!1;d.triggerEvent("loadSources",Array.prototype.slice.call(arguments,0))})},clear:function(){this.triggerEvent("removeSources",this.data);this.triggerEvent("clear");
this.data=[]},countItems:function(){for(var a=0,c=this.data.length;c--;)a+=this.data[c].items.length;return a},findDataSource:function(a){for(var c in yox.data.sources){var b=yox.data.sources[c];if(b.match(a))return b}},getData:function(){return this.data},getDataSource:function(a){return yox.data.sources[a]},loadSource:function(a){var c=a.type?this.getDataSource(a.type):this.findDataSource(a),b=this;if(c){var d=$.Deferred(),f=function(c){b.store(a,c);d.resolve(c)},e=this.store(a);e?f(e):c.load(a,
f,function(){d.reject()});return d}},source:function(a){this.clear();this.addSources.apply(this,arguments)},store:function(a,c){if(!this.options.cache||!window.localStorage||!a.url)return!1;var b=this.namespace+".source."+a.url;if(!c)return(b=window.localStorage.getItem(b))?JSON.parse(b):null;window.localStorage.setItem(b,JSON.stringify(c))}};yox.data.source=function(){};yox.data.sources={};
yox.data.source.prototype={load:function(){throw Error("'load' function isn't implemented for this data source.");},match:function(){throw Error("'match' function isn't implemented for this data source.");}};
yox.data.sources.element=function(){var a=Object(HTMLElement)===HTMLElement?function(a){return a instanceof HTMLElement}:Object(Element)===Element?function(a){return a instanceof Element}:function(){return Object(el)===el&&1===el.nodeType&&"string"===typeof el.nodeName};return{name:"element",match:function(c){return a(c)||c instanceof jQuery||c.element&&a(c.element)||c.element instanceof jQuery},load:function(a,b){var d=[];$("a:has('img')",a instanceof HTMLElement?a:a.element).each(function(){var a=
$("img:first",this)[0];d.push({thumbnail:{element:this,image:a,src:a.src},url:this.href,title:this.title||a.title,type:"image"})});var f={items:d,source:a,sourceType:"element",createThumbnails:!1};b&&b(f);return f}}}();
yox.data.sources.files=function(){var a;a=window.URL&&window.URL.createObjectURL?function(a){return window.URL.createObjectURL(a)}:window.webkitURL&&window.webkitURL.createObjectURL?function(a){return window.webkitURL.createObjectURL(a)}:function(){return null};return{name:"files",match:function(){return!1},load:function(c,b){if(!b)return!1;for(var d=[],f=0,e;e=c.files[f];f++)if(/^image\//.test(e.type)){var h=a(e);d.push({url:h,type:"image",title:e.name||e.fileName,thumbnail:{src:h}})}b({items:d,
source:c,sourceType:"files",createThumbnails:!0})}}}();
yox.data.sources.flickr=function(a){function c(a,c){return"http://farm"+a.farm+".static.flickr.com/"+a.server+"/"+(a.primary||a.id)+"_"+a.secret+c+".jpg"}function b(b,e){var g=b.photoset||b.photos,d,k=[],m=b.photoset?"/in/set-"+b.photoset.id:"";g?d=b.photoset?b.photoset.photo:b.photos.photo:b.photosets?d=b.photosets.photoset:b.collections&&(d=b.collections.collection[0].set);if(d){var h=i[e.thumbsize],n=i[e.imageSize];a.each(d,function(a,b){var i={thumbnail:{src:c(b,h)},link:(f+"photos/"+(b.owner||
e.user_id)+"/"+b.id+m).replace(/\s/g,"_"),url:c(b,n),title:g?b.title:b.title._content,type:"image",description:b.description?b.description._content:void 0};g||(i.data={photoset_id:b.id});k.push(i)})}return k}var d="flickr",f="http://www.flickr.com/",e="http://api.flickr.com/services/rest/",h=/\d+@N\d+/,m=/^http:\/\/(?:www\.)?flickr\.com\/(\w+)\/(?:([^\/]+)\/(?:(\w+)\/?(?:([^\/]+)\/?)?)?)?(?:\?(.*))?/,n={api_key:"9a220a98ef188519fb87b08d310ebdbe",format:"json"},k={imageSize:"medium",thumbsize:"thumbnail",
setThumbnail:!0,setSinglePhotosetThumbnails:!0,setTitle:!0,method:"flickr.photosets.getList",extras:"description"},o={sets:function(a,b){return{method:b||a.photoset_id?"flickr.photosets.getPhotos":"flickr.photosets.getList",photoset_id:b}},galleries:function(a,b){return{method:b?"flickr.galleries.getPhotos":"flickr.galleries.getList",gallery_id:b}},collections:function(a,b){return{method:"flickr.collections.getTree",collection_id:b}},"default":function(){return{method:"flickr.photos.search"}}},i=
{smallSquare:"_s",thumbnail:"_t",small:"_m",medium:"",large:"_b",original:"_o"};return{name:d,defaults:k,match:function(a){return a.url&&m.test(a.url)},load:function(p,l){function g(){a.ajax({url:e,dataType:"jsonp",data:t,jsonpCallback:"jsonFlickrApi",success:function(e){var g={source:p,sourceType:d,createThumbnails:!0};g.items=b(e,t);(e.photosets||e.collections)&&a.extend(g,{createGroups:!0});if(0<g.items.length&&(t.setThumbnail&&!t.setSinglePhotosetThumbnails||p.isSingleLink))a.extend(g,{isGroup:!0,
link:(f+"photos/"+e.photoset.owner+"/sets/"+e.photoset.id+"/").replace(/\s/g,"_"),thumbnailSrc:p.isSingleLink?void 0:c(e.photoset.photo[0],i[t.thumbsize]),title:"None"});l&&l(g)},error:function(){if(options.onLoadError)options.onLoadError("Flickr plugin encountered an error while retrieving data")}})}var u=!0,q=p.url&&p.url.match(m),r,s={},y={method:"flickr.urls.lookupUser",onData:function(a){return{user_id:a.user.id,username:a.user.username._content}}};if(p.url&&!q)return!1;if(q){var v=q[1],x=q[2],
w=q[3],z=q[4];if(q=q[5])r=yox.utils.url.queryToJson(q),a.extend(s,r);if("search"==v){s.method="flickr.photos.search";s.text=r.q;r.w&&(r.w=r.w.replace("%40","@"),r.w.match(h)&&(s.user_id=r.w));if(!r||!r.sort)s.sort="relevance";u=!1}else w?(a.extend(s,o[w||"default"](p,z)),"galleries"===w&&z&&(u=!0,y={method:"flickr.urls.lookupGallery",onData:function(a){return{gallery_id:a.gallery.id,title:a.gallery.title}}})):s.method="flickr.people.getPublicPhotos",s.username=x,s.type=w}var t=jQuery.extend({},k,
s,p,n);t.media="photos";t.user&&t.photoset_id&&(t.method="flickr.photosets.getPhotos");r=screen.width>screen.height?screen.width:screen.height;if(!t.imageSize||800>=r.width&&"medium"!=t.imageSize)t.imageSize="medium";u?a.ajax({url:e,dataType:"jsonp",data:a.extend({url:p.url,method:y.method},n),jsonpCallback:"jsonFlickrApi",success:function(b){a.extend(t,y.onData(b));g()}}):g()}}}(jQuery);
yox.data.sources.html=function(){return{name:"html",match:function(a){return yox.utils.dom.isElement(a)||a instanceof jQuery||a.element&&yox.utils.dom.isElement(a.element)||a.element instanceof jQuery},load:function(a,c){var b=[];if(a.selector&&a.element)for(var d=a.element.querySelectorAll(a.selector),f=0,e=d.length;f<e;f++){var h=d[f];b.push({element:h,name:h.id,type:"html",title:h.title||h.getAttribute("data-title"),width:h.clientWidth,height:h.clientHeight,thumbnail:{src:h.getAttribute("data-thumbnail"),
className:a.thumbnailsClass||"yox-thumbnail"}});h.parentNode.removeChild(h)}else if(a.items){b=Array.prototype.slice.call(a.items,0);f=0;for(e=b.length;f<e;f++)b[f].type="html"}c({items:b,source:a,sourceType:"html",createThumbnails:!0})}}}();
yox.data.sources.picasa=function(){function a(a,b){var d=a.match(e),l=$.extend({},k,b);if(d&&1<d.length){var g=d[2],f=d[3];l.user=d[1];g?(l.album=g,l.fields+=",entry(summary),gphoto:name"):l.fields+=",entry(title),entry(gphoto:numphotos),entry(gphoto:name),entry(link[@rel='alternate']),author,entry(summary)";f&&$.extend(l,yox.utils.url.queryToJson(f))}l.imgmax=c(n,l.imgmax);l.thumbsize=c(l.cropThumbnails?m:n,l.thumbsize)+(l.cropThumbnails?"c":"u");return l}function c(a,b){for(var c=Math.min(b,Math.max(screen.width,
screen.height)),e=a.length,g;e-- -1&&(g=a[e])&&a[e-1]>=c;);return g}function b(a){var b=h;a.user&&"lh"!=a.user?(b+="user/"+a.user,a.album&&(b+="/album/"+a.album)):b+="all";return b}function d(a){var b=[];jQuery.each(a.feed.entry,function(a,c){var e="album"===c.category[0].term.match(/#(.*)$/)[1];if(e&&!c.gphoto$numphotos.$t)return!0;var d=c.media$group.media$content[0],f={thumbnail:{src:c.media$group.media$thumbnail[0].url},url:d.url,link:c.link[0].href,title:e?c.title.$t:c.summary.$t,type:"image",
author:c.media$group.media$credit[0].$t};e?(f.data={album:{name:c.title.$t,imageCount:c.gphoto$numphotos.$t,description:c.summary.$t}},f.isLoaded=!0):$.extend(f,{width:d.width,height:d.height,ratio:d.height/d.width});b.push(f)});return b}var f=/^https?:\/\/picasaweb\.google\./,e=/^https?:\/\/picasaweb\.google\.\w+\/([^\/#\?]+)\/?([^\/#\?]+)?(?:\?([^#]*))?/,h="http://picasaweb.google.com/data/feed/api/",m=[32,48,64,72,104,144,150,160],n=[94,110,128,200,220,288,320,400,512,576,640,720,800,912,1024,
1152,1280,1440,1600].concat(m).sort(function(a,b){return a-b}),k={setThumbnail:!0,setSingleAlbumThumbnails:!0,setTitle:!0,alt:"json",cropThumbnails:!1,thumbsize:64,imgmax:n[n.length-1],fields:"category(@term),entry(category(@term)),title,entry(summary),entry(media:group(media:thumbnail(@url))),entry(media:group(media:content(@url))),entry(media:group(media:content(@width))),entry(media:group(media:content(@height))),entry(link[@rel='alternate'](@href)),entry(media:group(media:credit))"};return{name:"picasa",
match:function(a){return a.url&&f.test(a.url)},load:function(c,e){var f=a(c.url,c);$.ajax({url:b(f),dataType:"jsonp",data:f,success:function(a){var b={source:c,sourceType:"picasa"};if(!a.feed.entry||0==a.feed.entry.length)b.items=[];else{var f=a.feed.category[0].term.match(/#(.*)$/)[1];"user"===f&&$.extend(b,{title:a.feed.title.$t,data:{kind:"user",author:{name:a.feed.author[0].name.$t,link:a.feed.author[0].uri.$t}}});b.createThumbnails=!0;b.items=d(a,f)}e&&e(b)},error:function(a,b){console.log("error: ",
arguments)}})}}}();
yox.data.sources.youtube=function(a){function c(a){var b,c,e=16/9,d=!1;!a.width&&!a.height&&(a.width=720);if(a.height&&!a.width||a.width&&!a.height)"string"===typeof a.aspectRatio&&("auto"===a.aspectRatio?a.aspectRatio=4/3:(d=a.aspectRatio.split(":"),a.aspectRatio=parseInt(d[0],10)/parseInt(d[1],10))),d=a.aspectRatio===16/9,a.height?(b={height:a.height,width:a.height*e},d||(c={height:a.height,width:a.height*a.aspectRatio})):(b={width:a.width,height:a.width/e},d||(c={width:a.width,height:a.width/a.aspectRatio}));
return function(a){return a?b:c}}function b(a){var b=document.createElement("object");b.setAttribute("width","100%");b.setAttribute("height","100%");b.innerHTML="<param name='movie' value='"+a+"'</param><param name='allowFullScreen' value='true'></param><param name='wmode' value='transparent'></param><param name='allowScriptAccess' value='always'></param><embed src='"+a+"' type='application/x-shockwave-flash' allowfullscreen='true' allowscriptaccess='always' wmode='transparent' width='100%' height='100%'></embed>";
return b}function d(c,e){var d={type:"html",thumbnail:{src:c.thumbnail[e.hqThumbnails?"hqDefault":"sqDefault"]},link:c.player["default"],element:b(c.content["5"]+"&fs=1&hd=1&enablejsapi=1&playerapiid=ytplayer"+b.id++ +"&version=3"),title:c.title,id:c.id,description:c.description,duration:c.duration};a.extend(d,e.getDimensions(c.aspectRatio&&"widescreen"===c.aspectRatio));d.width&&d.height&&(d.ratio=d.height/d.width);return d}function f(b,c){var e=[];if(c.filter){var f=c.filter.match(/!([^,]+)/g),
i=c.filter.match(/(,|^)[^!,]([^,]+)/g),f=f?f.join("|").replace(/^!/,"").replace(/\|!/g,"|"):null,i=i?i.join("|").replace(/\|,/g,"|"):null;f&&(c.negativeFilterRegex=RegExp("(?:^|,)("+decodeURI()(f)+")(?:,|$)"));i&&(c.positiveFilterRegex=RegExp("(?:^|,)("+decodeURI()(i)+")(?:,|$)"))}a.each(b,function(a,b){"playlist"===c.feedType&&(b=b.video);var g;g=b.tags;if(!c.filter||!g)g=!1;else{g=g.join(",");var i=c.negativeFilterRegex&&c.negativeFilterRegex.test(g);i||(i=c.positiveFilterRegex&&!c.positiveFilterRegex.test(g));
g=i}g||e.push(d(b,c))});return e}var e=/^http:\/\/(?:www\.)?youtube.com\//,h={singleVideo:/^http:\/\/(?:www\.)?youtube.com\/watch\?v=([^\&]+)(.*)?/,playlist:/^http:\/\/(?:www\.)?youtube.com\/(?:view_play_list|my_playlists)\?p=([^\&]+)(.*)?/,user:/^http:\/\/(?:www\.)?youtube.com\/user\/([^\?]+)(?:\?(.*))?/,search:/^http:\/\/(?:www\.)?youtube.com\/results\?(.*)/};apiUrl="http://gdata.youtube.com/feeds/api/videos";fixedOptions={v:2,format:5,alt:"jsonc"};defaults={hqThumbnails:!1,aspectRatio:"auto"};
b.id=1;return{name:"youtube",match:function(a){return a.url&&e.test(a.url)},load:function(b,e){if(!e)throw Error("Can't load YouTube data, no callback provided.");var d=a.extend({},defaults,b,fixedOptions);if(b.url){var o,i;for(i in h)if(o=b.url.match(h[i])){d.feedType=i;break}if(o){switch(d.feedType){case "singleVideo":d.isSingleVideo=!0;d.url+="/"+o[1];break;case "playlist":d.url="http://gdata.youtube.com/feeds/api/playlists/"+o[1];break;case "user":d.url="http://gdata.youtube.com/feeds/api/users/"+
o[1]+"/uploads";break;case "search":d.url=apiUrl}if(o=yox.utils.url.queryToJson(2==o.length?o[1]:o[2]))o.search_query&&(o.q=o.search_query,delete o.search_query),a.extend(d,o)}}a.ajax({url:d.url,dataType:"jsonp",data:d,async:!1,jsonpCallback:"callback",success:function(a){d.getDimensions=c(d);var i={source:b,sourceType:"youtube",createThumbnails:!0};if(d.isSingleVideo&&!a.data||!d.isSingleVideo&&(!a.data.items||0===a.data.items.length))i.items=[];else if(i.items=f(d.isSingleVideo?[a.data]:a.data.items,
d),!d.isSingleVideo&&(a=a.data.title))i.title=a;e(i)},error:function(){if(d.onLoadError)d.onLoadError("YouTube plugin encountered an error while retrieving data")}})}}}(jQuery);yox.statistics=function(a,c){1===arguments.length&&(c=a,a=null);this.reporter=new yox.statistics.reporters[c.reporter||yox.statistics.defaults.reporter](c);this.category=c.category||"yox.js";var b=c.eventsHandler||new yox.eventsHandler;$.extend(this,b);if(c.events)for(var d in c.events)this.addEventListener(d,c.events[d])};
yox.statistics.prototype={report:function(a){a.category=a.category||this.category;this.reporter.report(a)}};yox.statistics.defaults={reporter:"ga"};yox.statistics.reporter=function(a){this.name=a};yox.statistics.reporters={};yox.statistics.reporter.prototype={report:function(){throw Error("'report' method isn't implemented yet for this reporter type.");}};
yox.statistics.reporters.ga=function(a){if(!_gaq)throw Error("Can't initialize Google Analytics reporter, Google Analytics isn't loaded.");this.report=function(c){_gaq.push(["_trackEvent",c.category||a.category,c.action,c.label,c.value])}};yox.statistics.reporters.ga.prototype=new yox.statistics.reporter("ga");
(function(a){a.fn.yoxscroll=function(c){if(0!=this.length){var b=a(this),d=b.data("yoxscroll");if("string"===typeof c&&d&&d[c])return d[c].apply(d,Array.prototype.slice.call(arguments,1));"object"===typeof c||!c?b.data("yoxscroll",new yox.scroll(this,c)):a.error("Method "+c+" does not exist on yox.scroll.")}return this};yox.scroll=function(a,b){this.container=a;this.init(b)};yox.scroll.prototype=function(){var c,b,d;function f(b,c,e){a(b);var d=b.getElementsByTagName("img"),i=d.length,g=new Date;
if(i){var f=0,l=function(a){e&&e.call(this,a);if((a instanceof Date||"IMG"===a.target.nodeName)&&++f===i)b.removeEventListener("load",l,!0),c&&c(i)},h=function(a){e&&e.call(this,a);++f===i&&c&&c(i);a.srcElement.detachEvent("onload",h)};if(b.addEventListener)b.addEventListener("load",l,!0);else if(b.attachEvent)for(var p=i;p--;)d[p].attachEvent("onload",h);for(p=i;p--;)d[p].complete&&l(g)}else c&&c(0)}function e(){return/(Android)|(iPhone)|(iPod)/.test(navigator.userAgent)||4E5>screen.width*screen.height}
function h(b,c){var e=a(b).data("yoxscroll-"+c);if(e){var e=e.split("-"),d=this[e.shift()];d&&d.apply(this,e)}}function m(){g=v;u=parseInt(this.elements.$slider.css("left"),10)}function n(a,b,c){var e=(a.timeStamp||new Date)-w;if(!e)return!1;z=e;w=a.timeStamp||new Date;x=a.pageX-v;v=a.pageX;this.enableDrag&&(a=u+v-g,e=Math.abs(x)/x,a>=c&&0>=a?b.css("left",a):((!x||e!==r)&&m.call(y),a<c&&s!==c?b.css("left",a=c):0<a&&0!==s&&b.css("left",a=0)),q=!0,r=e,s=a)}function k(a,b,c){var e=this.elements.$slider;
s=c?parseInt(e.css("left"),10):s;var c=s+b*r,d=0<c?(b-c)/b:c<this.minPosition?(b-this.minPosition+c)/b:1;0!==d&&(c=s+d*b*r,a*=d,b=E.getCubicBezier(d),e.css({transition:"left "+a+"s cubic-bezier("+b+")",left:c}))}function o(a){y.elements.$window.off(c,D);currentDirection=0;a.data.view.elements.$window.off(b,o);if(a.data.view.enableDrag&&0!==x){var e=Math.min(Math.abs(x)/(7*z),0.86),d=e*t,e=Math.round(1E3*e*e*t);k.call(a.data.view,d,e);q=!1;y=null}return!1}function i(i){var f=this;i.on(d,function(d){var g=
e?window.event.touches[0]:d;d.preventDefault();v=g.pageX;w=g.timeStamp||new Date;m.call(f,d);f.enableDrag&&i.css({transition:"none",left:i.css("left")});x=0;q=!1;y=f;a(window).on(c,{$slider:i,minPosition:f.minPosition,view:f},D).on(b,{view:f},o)}).on(b,function(a){a.preventDefault();var b=v,b=b>g-4&&b<g+4;(f.enableDrag&&!q||b)&&f.triggerEvent("click",a)})}var p={centerContentsIfNotScrollable:!0,events:{buttonholdstart:function(a){h.call(this,a,"holdstart")},buttonholdend:function(){this.stopScroll()},
buttonclick:function(a){h.call(this,a,"click")}},"float":"left",isHorizontal:!0,scrollByTime:0.5,scrollToEasing:"ease-in-out",scrollToElementTime:0.2,scrollVelocity:500,toggleButtons:!0},l=a(window),g,u,q=!1,r=0,s,y,v,x=0,w,z,t=2.5,e=e();c=e?"touchmove":"mousemove";d=e?"touchstart":"mousedown";b=e?"touchend":"mouseup";var A,C,B={buttonDown:function(c){c.preventDefault();var d=this,i=c.data.view.options.pressedButtonClass;i&&a(d).addClass(i);A=setTimeout(function(){l.on(b,c.data,B.holdEnd);if(!e)l.on("mouseout",
c.data,B.mouseOut);c.data.view.triggerEvent("buttonholdstart",d);A=null;C=d},200)},buttonUp:function(b){var c=b.data.view.options.pressedButtonClass;c&&a(this).removeClass(c);A&&(clearTimeout(A),b.data.view.triggerEvent("buttonclick",this),A=null)},holdEnd:function(a){l.off(b,B.holdEnd);e||l.off("mouseout",B.mouseOut);a.data.view.triggerEvent("buttonholdend",C);C=null;return!1},mouseOut:function(a){a.relatedTarget||B.holdEnd(a)}},E=function(){function a(b,c){this.x=b;this.y=c}var b=[0,0.42,0.36,1],
c=[new a(0,0),new a(b[0],b[1]),new a(b[2],b[3]),new a(1,1)],e=b.join(", ");return{getCubicBezier:function(b){if(b)return e;for(var d=[c,[],[],[]],i=[c[0]],f=1;3>=f;f++)for(j=0;j<=3-f;j++){var g=new a(Math.abs(b-1)*d[f-1][j].x+b*d[f-1][j+1].x,Math.abs(b-1)*d[f-1][j].y+b*d[f-1][j+1].y);d[f][j]=g;j||i.push(g)}b=i[3];for(f=1;4>f;f++)g=i[f],g.x/=b.x,g.y/=b.y;return[i[1].x,i[1].y,i[2].x,i[2].y].join(", ")}}}(),D=e?function(a){n.call(a.data.view,window.event.touches[0],a.data.$slider,a.data.minPosition)}:
function(a){n.call(a.data.view,a,a.data.$slider,a.data.minPosition)};return{calculateSliderSize:function(){this.elements.$slider[this.options.isHorizontal?"width":"height"](999999);var b=a("<span>").appendTo(this.elements.$slider),c=b.position().left;c||(b.css("float",this.options["float"]),c=b.position().left);b.remove();return c},destroy:function(){},init:function(b){var c=a.extend({},b),b=c.eventsHandler||new yox.eventsHandler;a.extend(this,b);b=a.extend({},c.events);delete c.events;c=a.extend(!0,
{},p,c);c.toggleButtons&&(c.events.changeStatus=function(a){this.options.elements.toggle(a.scrollEnabled)});for(var e in b){var d=c.events[e],f=b[e];d?d instanceof Array||(d=c.events[e]=[d]):d=c.events[e]=[];f instanceof Array?d=d.concat(f):"function"===typeof f&&d.push(f)}this.options=c;e=this.elements={$window:a(window),$container:a(this.container),$slider:a("<div>",{"class":"yoxscrollSlider",css:a.extend({position:"relative",top:0,left:0},c.isHorizontal?{height:"100%"}:{width:"100%"})})};a.browser.webkit&&
e.$slider[0].style.setProperty("-webkit-transform","translateZ(0)",null);b=e.$container;"static"===b.css("position")&&b.css("position","relative");b.children().appendTo(e.$slider);e.$slider.appendTo(e.$container);this.initEvents();this.update();this.initButtons();i.call(this,e.$slider);e.$slider.on("click",function(a){a.preventDefault()})},initButtons:function(){if(!this.options.elements)return!1;if(this.options.elements instanceof jQuery)this.options.elements.on(d,{view:this},B.buttonDown).on(b,
{view:this},B.buttonUp)},initEvents:function(){for(var a in this.options.events){var b=this.options.events[a];if(b instanceof Array)for(var c=0;c<b.length;c++)this.addEventListener(a,b[c]);else this.addEventListener(a,b)}},page:function(a){this.scrollBy(("left"===a?1:-1)*this.containerSize)},scroll:function(a){r="left"===a?1:-1;this.scrollTo(1===r?0:this.minPosition,{easing:"cubic-bezier(.15, .03, .15, .16)"})},scrollBy:function(a){this.scrollTo(a,{isRelative:!0,time:this.options.scrollByTime})},
scrollTo:function(b,c){var c=c||{},e=this.elements.$slider,d=parseInt(e.css("left"),10),i=b instanceof jQuery,f=i?b:void 0,g=c.time;b instanceof HTMLElement&&(f=a(b),i=!0);if(i){i=f.position().left;f=f.width();if(c.centerElement)b=(this.containerSize-f)/2-i;else{var l=i+d;if(l+f>this.containerSize)b=this.containerSize-i-f;else if(0>l)b=-1*i;else return!1}g=g||this.options.scrollToElementTime}c.isRelative&&(b+=d);b=Math.min(Math.max(b,this.minPosition),0);void 0===g&&(g=Math.abs(b-d)/this.options.scrollVelocity);
0===b&&!1!==c.allowCenter&&this.options.centerContentsIfNotScrollable&&!this.enableDrag?this.elements.$slider.css({transition:"none",left:this.minPosition/2}):e.css("transition","left "+g+"s "+(c.easing||this.options.scrollToEasing)).css("left",b)},stopScroll:function(){var a=this.options.scrollVelocity/20/t;k.call(this,a/10,0,!0)},update:function(){this.elements.$container.children(":not(.yoxscrollSlider)").appendTo(this.elements.$slider);f(this.elements.$container[0],void 0,this.updateSize.bind(this))},
updateSize:function(){var a=this.calculateSliderSize();this.elements.$slider.width(a);this.containerSize=this.elements.$container.width();this.minPosition=this.containerSize-a;a=0>this.minPosition;a!==this.enableDrag&&(this.enableDrag=a,(!a&&!this.options.centerContentsIfNotScrollable||0<parseInt(a&&this.elements.$slider.css("left"),10))&&this.elements.$slider.css({transition:"none",left:0}),this.triggerEvent("changeStatus",{scrollEnabled:a}),this.elements.$container.toggleClass("yoxscroll_scrollEnabled",
this.enableDrag));this.options.centerContentsIfNotScrollable&&!a&&this.elements.$slider.css({transition:"none",left:this.minPosition/2})}}}()})(jQuery);
(function(a,c){yox.thumbnails=function(b,c){var f=this;this.container=b instanceof jQuery?b[0]:b;this.options=a.extend(!0,{},this.defaults,c);this.itemCount=0;var e=this.options.eventsHandler||new yox.eventsHandler;a.extend(this,e);if(this.options.events)for(var h in this.options.events)this.addEventListener(h,this.options.events[h]);this.options.data&&this.addDataSources(this.options.data);if(!1!==this.options.handleClick){var m=function(a){var b=this.getAttribute("data-yoxthumbIndex");a.preventDefault();
f.triggerEvent("click",{originalEvent:a,index:b,target:this});f.select(b)};a(this.container).on("click","."+f.options.thumbnailClass,m);this.addEventListener("beforeDestroy",function(){a(this.container).off("click","."+f.options.thumbnailClass,m)})}};yox.thumbnails.prototype={addDataSources:function(a){function c(a){for(var b=0;b<a.length;b++)e.createThumbnails(a[b])}function f(a){e.options.allowAppend||(e.clear(),this.itemCount=0);c(a)}var e=this,h=a.getData();h&&h.length&&c(h);a.addEventListener("loadSources",
f);this.addEventListener("beforeDestroy",function(){a.removeEventListener("loadSources",f)});a.addEventListener("clear",function(){e.clear();this.itemCount=0})},clear:function(){this.thumbnails&&this.thumbnails.remove();this.itemCount=0;this.currentSelectedThumbnail=null;this.thumbnails=a()},createThumbnail:function(b){var d=a("<a>",{href:b.link||b.url,title:!1!==this.options.renderThumbnailsTitle?b.title:c,"class":this.options.thumbnailClass});d.append(a("<img>",{src:this.options.useFullImages?b.url:
b.thumbnail.src,alt:b.title}));return d[0]},createThumbnails:function(b){var c=this,f;this.thumbnails=this.thumbnails||a();if(!1!==b.createThumbnails){if(a.tmpl)f=a.tmpl(a.template(this.template),b.items,{options:this.options,getIndex:function(){return c.itemCount++}}),f.appendTo(this.container),this.thumbnails=f;else{f=document.createDocumentFragment();for(var e=0,h=b.items.length;e<h;e++,this.itemCount++){var m=b.items[e],n=this.createThumbnail(m);n.setAttribute("data-yoxthumbindex",this.itemCount);
m.thumbnail.element=n;m.thumbnail.generated=!0;var k=n.getElementsByTagName("img");k.length&&(m.thumbnail.image=k[0]);f.appendChild(n)}this.container.appendChild(f);this.thumbnails=this.thumbnails.add(a(this.container).children("."+this.options.thumbnailClass))}f=this.container.childNodes}else f=a("a:has(img)",this.container).attr("data-yoxthumbindex",function(){return c.itemCount++}),this.thumbnails=this.thumbnails.add(f),f=f.get();this.triggerEvent("create",{thumbnails:f,items:b.items})},defaults:{allowAppend:!0,
renderThumbnailsTitle:!0,selectedThumbnailClass:"selectedThumbnail",thumbnailClass:"yoxthumbnail"},destroy:function(){this.triggerEvent("beforeDestroy")},select:function(a){this.currentSelectedThumbnail&&this.currentSelectedThumbnail.removeClass(this.options.selectedThumbnailClass);this.thumbnails&&(this.currentSelectedThumbnail=this.thumbnails.eq(a).addClass(this.options.selectedThumbnailClass))},template:"<a class='${$item.options.thumbnailClass}' href='${link || url}'{{if $item.options.renderThumbnailsTitle}} title='title'{{/if}} data-yoxthumbIndex='${$item.getIndex()}'><img src='${thumbnail.src}' alt='${title}' /></a>"};
window.yox.thumbnails=yox.thumbnails})(jQuery);
(function(a){yox.utils.css.addJqueryCssHooks("transition,transitionDuration,transform,transformStyle,backfaceVisibility,perspective".split(","));yox.view=function(c,b,d){var f=a.extend({},b.events),e=yox.view.config,h=yox.view.config.platform[yox.utils.browser.getPlatform()],d=d||yox.view.cache;delete b.events;var b=a.extend(!0,{},e.mode[b.resizeMode||h.resizeMode||e.defaults.resizeMode],e.defaults,h,b),m;for(m in f)e=b.events[m],h=f[m],e?e instanceof Array||(e=b.events[m]=[e]):e=b.events[m]=[],h instanceof
Array?e.concat(h):"function"===typeof h&&e.push(h);this.container=c;this.$container=a(c);this.options=b;this.id=yox.view.id?++yox.view.id:1;this.cache=d;this.direction=1;for(var n in this)c=this[n],"function"===typeof c&&(this[n]=c.bind(this));this.init()};yox.view.prototype=function(){var c,b;function d(a){var b="string"===typeof a?yox.view.transitions[a]:a;if(!b)throw Error('Invalid transition - "'+a+"\" doesn't exist.");a=new b;if(!(a instanceof yox.view.transition))throw Error("Invalid transition - transition constructors must have yox.view.transition as prototype.");
a.create.call(this,this.$container);this.transition=a}function f(b){var c={};b.options.lightbox?(c.$background=a('<div class="yoxviewBackground"></div>').appendTo(document.body),c.$background.on("click",function(a){b.triggerEvent("backgroundClick",a)})):"static"===b.$container.css("position")&&b.$container.css("position","relative");a.extend(b,{getPosition:yox.utils.dimensions.resize[b.options.resizeMode],elements:c});d.call(b,b.options.transition)}function e(a,b){var c=a.data(b);c||((c=o[b].create.call(this))?
a.append(c):c=a[0],a.data(b,c),c!==a[0]&&(c.style.height=c.style.width="100%",c.style.display="none"));return c}function h(a){for(var b=[],c=this.items.length,e=0;e<a.length;e++){var d=a[e];this.items=this.items.concat(d.items);b=b.concat(d.items)}e=c;for(c=this.items.length;e<c;e++)this.items[e].id=e+1;this.triggerEvent("load",{items:b,sources:a});this.initialized||(this.initialized=!0,this.triggerEvent("init"))}function m(a){if(a!==this.currentItem)return!1;var b=o[a.type],c=b.checkLoading?this.transition.getCurrentPanel():
this.transition.getPanel(),d=c.data("itemType"),f=e.call(this,c,a.type);d!==a.type&&(d&&(d&&b.clear.call(this,f),c.data(d).style.display="none"),c.data("itemType",a.type));b.checkLoading&&!f.loading&&(c=this.transition.getPanel(!0),f=e.call(this,c,a.type));f.style.display="block";b.set.call(this,a,f)}var n={};c={40:"down",35:"end",13:"enter",36:"home",37:"left",39:"right",32:"space",38:"up",72:"h",27:"escape"};b=function(a){var b=a.data.view,e=b[b.options.keyPress[c[a.keyCode]]];return e?(a.preventDefault(),
e.call(b),!1):!0};var k={resizeMode:function(a){this.getPosition=yox.utils.dimensions.resize[a]},transition:function(a){this.transition.destroy.call(this);d.call(this,a);a=this.currentItem.id-1;this.currentItem=null;this.selectItem(a)}},o={html:{clear:function(a){a.innerHTML=""},create:function(){var a=document.createElement("div");a.style.overflow="hidden";return a},set:function(a,b){b.loading=!1;a.element?(b.innerHTML="",b.appendChild(a.element)):b.innerHTML=a.html;a.width||(a.width=this.containerDimensions.width);
a.height||(a.height=this.containerDimensions.height);a.ratio=a.height/a.width;this.transition.transition.call(this,{position:this.getPosition(a,this.containerDimensions,this.options),index:a.id-1});this.triggerEvent("select",a)}},image:function(){function b(a){this.loading=!1;a=a instanceof yox.view?a:a.data.view;if(a.currentItem.url!==this.src)return!1;var c=a.currentItem,e=a.getPosition(c,a.containerDimensions,a.options);a.transition.transition.call(a,{position:e,index:c.id-1});a.triggerEvent("select",
c)}return{checkLoading:!0,clear:function(a){a.src=""},create:function(){var c=document.createElement("img");c.src="";a(c).on("load",{view:this},b);return c},set:function(a,c){c.loading=!0;c.src!==a.url?(c.src="",c.src=a.url):b.call(c,this)}}}()};return{addDataSource:function(a){if(n[a.name])return!1;n[a.name]=a},addItems:function(a){if(!a)return!1;a instanceof Array||(a=[a]);h.call(this,{items:a})},addDataSources:function(a){function b(a){h.call(c,a)}var c=this,e=a.getData();e&&e.length&&h.call(c,
e);a.addEventListener("loadSources",b);this.addEventListener("beforeDestroy",function(){a.removeEventListener("loadSources",b)});a.addEventListener("clear",function(){c.removeItems()})},cacheCount:0,destroy:function(){this.triggerEvent("beforeDestroy");this.disableKeyboard();this.transition.destroy()},disableKeyboard:function(){a(document).off("keydown.modules",b)},enableKeyboard:function(){a(document).on("keydown.modules",{view:this},b)},first:function(){if(!this.currentItem)return!1;this.selectItem(0)},
items:[],init:function(){var b=this;this.options.margin=yox.utils.dimensions.distributeMeasures(this.options.margin);this.options.padding=yox.utils.dimensions.distributeMeasures(this.options.padding);var c=this.options.eventsHandler||new yox.eventsHandler;a.extend(this,c);for(var e in this.options.events)if(c=this.options.events[e],c instanceof Array)for(var d=0;d<c.length;d++)b.addEventListener(e,c[d]);else b.addEventListener(e,c);f(this);this.options.data&&this.addDataSources(this.options.data);
this.options.enableKeyboard&&this.enableKeyboard();if(this.options.controls)for(var h in this.options.controls)if(this[h])a(this.options.controls[h]).data("yoxviewControl",h).on("click",function(c){c.preventDefault();b[a(this).data("yoxviewControl")].call(b)});this.update();this.triggerEvent("create")},last:function(){if(!this.currentItem)return!1;this.selectItem(this.items.length-1)},next:function(a){if(!this.currentItem)return!1;this.direction=1;this.selectItem(this.currentItem.id===this.items.length?
0:this.currentItem.id,void 0,a)},option:function(b,c){var e;void 0===c&&Object(b)===b?e=b:(e={},e[b]=c);for(var d in e){var f=this.options[d],h=e[d];if(f!==h){var m=k[d];m&&m.call(this,h,f)}}this.transition.update&&this.transition.update.call(this,e);a.extend(!0,this.options,e)},toggleSlideshow:function(){var a=this;this.isPlaying?(clearTimeout(this.playTimeoutId),this.isPlaying=!1,this.triggerEvent("slideshowStop")):(this.isPlaying=!0,this.playTimeoutId=setTimeout(function(){a.next.call(a,!0)},this.options.slideshowDelay),
this.triggerEvent("slideshowStart"))},prev:function(){if(!this.currentItem)return!1;this.direction=-1;this.selectItem(1===this.currentItem.id?this.items.length-1:this.currentItem.id-2)},removeItems:function(){this.triggerEvent("removeItems",this.items);this.currentItem=void 0;this.items=[]},removeEventListener:function(b,c){if(c&&"function"!==typeof c)throw Error("Invalid event handler, must be a function or undefined.");a(this.container).off(b+".modules",c)},selectItem:function(b,c,e){!e&&this.isPlaying?
this.toggleSlideshow():e&&!this.isPlaying&&(this.isPlaying=!0,this.triggerEvent("slideshowStart"));if(!isNaN(b)){if(b>=this.items.length||0>b)throw Error("Invalid item index: "+b);b=this.items[b]}if(""+b===b){for(var e=0,d;d=this.items[e];e++)if(d.name&&d.name===b){b=d;break}d=null}else b instanceof HTMLElement&&(b=a(b)),b instanceof jQuery&&(e=b.data("yoxviewIndex"),isNaN(e)&&(e=parseInt(b.attr("data-yoxviewIndex"),10)),b=this.items[e]);var e=this.currentItem,f=this;if(e&&b.id===e.id)return!1;this.triggerEvent("beforeSelect",
{newItem:b,oldItem:e,data:c});this.currentItem=b;this.cache.withItem(b,this,function(a){m.call(f,a)});return!0},unload:function(){},update:function(a){this.options.transitionTime&&this.updateTransitionTimeoutId&&(clearTimeout(this.updateTransitionTimeoutId),this.updateTransitionTimeoutId=null);var b={width:this.$container.width(),height:this.$container.height()};if(a||!this.containerDimensions||b.width!==this.containerDimensions.width||b.height!==this.containerDimensions.height)this.containerDimensions=
b,this.currentItem&&this.transition.transition.call(this,{position:this.getPosition(this.currentItem,this.containerDimensions,this.options),duration:0,isUpdate:!0})}}}();yox.view.config={defaults:{cacheImagesInBackground:!0,enableKeyPresses:!0,enlarge:!1,keyPress:{left:"prev",right:"next",up:"prev",down:"next",escape:"close",home:"first",end:"last",enter:"toggleSlideshow"},events:{init:function(){this.options.cacheImagesInBackground&&this.items.length&&yox.view.cache.cacheItem(this);this.removeEventListener("init")},
select:function(){var a=this;this.isPlaying&&(this.playTimeoutId=setTimeout(function(){a.next.call(a,!0)},Number(this.options.slideshowDelay)+Number(this.options.transitionTime||0)))}},container:document.body||document.getElementsByTagName("body")[0],lightbox:!1,panelDimensions:{width:1600,height:1600},resizeMode:"fit",slideshowDelay:3E3},mode:{fill:{transition:"fade",enlarge:!0,margin:0,padding:0},fit:{transition:"morph"}},platform:{mobile:{cacheBuffer:2,margin:0,padding:0,showInfo:!0,transitionTime:0},
desktop:{cacheBuffer:5,margin:20,padding:0,showInfo:!0,transitionTime:300}}}})(jQuery);
yox.view.cache=function(){function a(a,c){var d=!0;e++;c&&++a.cacheCount===a.items.length&&(delete a.cacheCount,a.isLoaded=!0,d=!1);d&&(d=e+o<a.options.cacheBuffer);d&&b(a)}function c(b){if(!this.width||!this.height)return!1;var b=m[n=b.data.cacheImageIndex],c=b.item,e=b.view;c.width=this.width;c.height=this.height;c.ratio=this.height/this.width;c.isLoaded=!0;c.id===p&&(e.triggerEvent("cacheEnd",c),p=null);e.triggerEvent("loadItem",c);b.onCache&&(b.onCache.call(e,c),b.onCache=null);o--;delete b.item;
a(e,!0)}function b(a){var b=a.items.length,c=f+a.direction;c===b?c=0:-1===c&&(c+=b);d(a,a.items[c],null,k)}function d(c,d,g){if(!(c instanceof yox.view))throw new TypeError("Invalid view for cacheItem.");if(!c)throw Error("View is required for cacheItem.");if(4>arguments.length||arguments[3]!==k)e=0;d=d||c.items[0];if("image"!==d.type)return g&&g.call(c,d),!0;for(var i=0;i<h;i++){var l=m[i];if(l.view&&l.view.id===c.id&&l.item&&l.item.id===d.id&&g)return l.onCache=g,!0}f=d.id-1;!d.isLoaded&&"image"===
d.type?(l=m[n],l.item=d,l.view=c,$.browser.mozilla&&(l.img.src=""),g&&(l.onCache=g),l.img.src=d.url,o++,++n===m.length&&(n=0),o<h&&e+o<c.options.cacheBuffer&&b(c)):(a(c,!d.isLoaded),d.isLoaded=!0,g&&g.call(c,d));return!0}for(var f,e=0,h=2,m=[],n=0,k=(new Date).valueOf(),o=0,i,p,l=0;l<h;l++){var g=new Image;g.setAttribute("data-id",l);$(g).on("load",{cacheImageIndex:l},c).on("error",function(){console.error("Image not found or couldn't load:",this.src)});m.push({img:g})}return{cacheItem:d,withItem:function(b,
c,g){if(3>arguments.length||arguments[2]!==k)e=0;b.isLoaded?(g.call(c,b),p&&(c.triggerEvent("cacheEnd",b),p=null),f=b.id-1,c.isLoaded||a(c,!1)):(i&&clearTimeout(i),i=setTimeout(function(){b.isLoaded||(i=null,c.triggerEvent("cacheStart",b),p=b.id)},200),d(c,b,g,k))}}}();yox.view.transition=function(a){this.name=a};yox.view.transitions={};
yox.view.transition.prototype={create:function(){throw Error("'create' method isn't implemented for this transition type.");},destroy:function(){throw Error("'destroy' method isn't implemented for this transition type.");},getCurrentPanel:function(){throw Error("'getCurrentPanel' method isn't implemented for this transition type.");},getPanel:function(){throw Error("'getPanel' method isn't implemented for this transition type.");},transition:function(){throw Error("'transition' method isn't implemented for this transition type.");
},update:function(){}};
yox.view.transitions.evaporate=function(){function a(a){d=a;f=a+"ms";m=yox.utils.browser.getCssPrefix()+"transform "+f+" ease-out, opacity "+f+" ease-out"}var c,b=1,d,f,e=0,h=this,m,n;this.create=function(b){h.$container=b;b.css("perspective","800px");a(this.options.transitionTime);c=[];for(var e=0;2>e;e++){var d=$("<div>",{"class":"yoxviewImg"});d.css({position:"absolute",top:"50%",left:"50%",width:0,height:0,border:"solid 1px #666",transform:e?"translateZ(-500px)":"translateZ(0)"});d.attr("data-index",
e);c.push(d.appendTo(b))}};this.destroy=function(){h.$container.css("perspective","");for(var a=0;a<c.length;a++)c[a].remove()};this.getCurrentPanel=function(){return c[b]};this.getPanel=function(){b=b?0:1;return c[b]};this.transition=function(a){clearTimeout(n);var f=h.getCurrentPanel(),i=c[b?0:1].show(),p=a.index<e&&!(e===this.items.length-1&&0===a.index)||a.index===this.items.length-1&&!e;f.css($.extend(a.position,{display:"block",transform:p?"translateZ(500px)":"translateZ(-800px)",transition:"none",
zIndex:p?3:1}));setTimeout(function(){i.css({transform:p?"translateZ(-800px)":"translateZ(500px)",opacity:0,zIndex:p?1:3});f.css({transition:m,transform:"translateZ(0)",zIndex:2,opacity:1});e=a.index;p||(n=setTimeout(function(){i.hide()},d))},10)};this.update=function(b){if(void 0!==b.transitionTime){a(b.transitionTime);for(b=c.length;b--;)c[b].css("transitionDuration",f)}}};yox.view.transitions.evaporate.prototype=new yox.view.transition("evaporate");
yox.view.transitions.fade=function(){var a,c=1;this.create=function(b){a=[];for(var c=0;2>c;c++){var f=$("<div>",{src:"","class":"yoxviewImg"});0<c&&f.css({opacity:"0"});f.css({transition:["opacity ",this.options.transitionTime,"ms linear"].join("")});$.browser.webkit&&f[0].style.setProperty("-webkit-transform","translateZ(0)");a.push(f.appendTo(b))}};this.destroy=function(){for(var b=0;b<a.length;b++)a[b].remove()};this.getCurrentPanel=function(){return a[c]};this.getPanel=function(){c=c?0:1;return a[c]};
this.transition=function(b){if(void 0!==b.duration){if(isNaN(b.duration))throw new TypeError("Invalid value for transition time, must be a number (in milliseconds).");}else b.duration=void 0;a[c].css(b.position);this.options.enlarge&&"fill"===this.options.resizeMode?a[1].css({opacity:c}):(a[c?0:1].css({opacity:0}),a[c].css({opacity:1}))};this.update=function(b){b.resizeMode&&b.resizeMode!==this.options.resizeMode&&a[c].css(this.getPosition(this.currentItem,this.containerDimensions,this.options));
if(void 0!==b.transitionTime)for(var d=a.length;d--;)a[d].css("transitionDuration",b.transitionTime+"ms")}};yox.view.transitions.fade.prototype=new yox.view.transition("fade");
yox.view.transitions.flip=function(){var a,c,b=1,d,f=-180,e=0,h=this;this.create=function(b){h.$container=b;b.css("perspective","800px");a=$("<div>",{"class":"yoxviewFrame yoxviewFrame_"+this.options.resizeMode+" yoxviewFrame_"+yox.utils.browser.getPlatform()+" yoxviewFrame_flip"}).appendTo(b);this.options.transitionTime&&(d=this.options.transitionTime,a.css({transition:yox.utils.browser.getCssPrefix()+"transform "+d+"ms ease-out",transformStyle:"preserve-3d",width:b.width()-this.options.margin.horizontal,
left:this.options.margin.left,height:"100%",border:"none",overflow:"visible"}));c=[];for(b=0;2>b;b++){var e=$("<div>",{"class":"yoxviewImg"});e.css({backfaceVisibility:"hidden",background:"Black",position:"absolute",top:"50%",left:"50%",width:0,height:0,transform:b?"rotateY(180deg)":"rotateY(0)",marginLeft:"-"+this.options.margin.left+"px"});e.attr("data-index",b);c.push(e.appendTo(a))}};this.destroy=function(){h.$container.css("perspective","");a.remove()};this.getCurrentPanel=function(){return c[b]};
this.getPanel=function(){b=b?0:1;return c[b]};this.transition=function(b){h.getCurrentPanel().css(b.position);b.isUpdate?a.css({width:h.$container.width()-this.options.margin.horizontal,left:this.options.margin.left}):(f+=b.index<e&&!(e===this.items.length-1&&0===b.index)||b.index===this.items.length-1&&!e?-180:180,e=b.index,a.css("transform","rotateY("+f+"deg)"))};this.update=function(b){void 0!==b.transitionTime&&a.css("transitionDuration",b.transitionTime+"ms")}};
yox.view.transitions.flip.prototype=new yox.view.transition("flip");
yox.view.transitions.morph=function(){var a,c,b=1,d,f;this.create=function(b){a=$("<div>",{"class":"yoxviewFrame yoxviewFrame_"+this.options.resizeMode+" yoxviewFrame_"+yox.utils.browser.getPlatform()}).appendTo(b);this.options.transitionTime&&(f=d=this.options.transitionTime,a.css({transition:"all "+d+"ms ease-out",top:"50%",left:"50%",width:0,height:0}),$.browser.webkit&&a[0].style.setProperty("-webkit-transform","translateZ(0)"));c=[];for(b=0;2>b;b++){var h=$("<div>",{"class":"yoxviewImg"});h.css("display",
"inline");0<b&&h.css({opacity:"0"});h.css({transition:["all ",this.options.transitionTime,"ms ease-out"].join("")});$.browser.webkit&&h[0].style.setProperty("-webkit-transform","translateZ(0)");h.attr("data-index",b);c.push(h.appendTo(a))}};this.destroy=function(){a.remove()};this.getCurrentPanel=function(){return c[b]};this.getPanel=function(){b=b?0:1;return c[b]};this.transition=function(e){var h=$.extend({},e.position);if(void 0!==e.duration){if(isNaN(e.duration))throw new TypeError("Invalid value for transition time, must be a number (in milliseconds).");
}else e.duration=d;e.duration!==f&&(h.transition="all "+e.duration+"ms ease-out",f=e.duration);e.isUpdate||c[1].css("opacity",b);a.css(h)};this.update=function(b){if(void 0!==b.transitionTime){a.css("transitionDuration",b.transitionTime+"ms");for(var d=c.length;d--;)c[d].css("transitionDuration",b.transitionTime+"ms")}}};yox.view.transitions.morph.prototype=new yox.view.transition("morph");yox.theme=function(){};yox.themes={};
yox.theme.prototype={create:function(){throw Error("'create' method is not implemented for this theme.");},destroy:function(){throw Error("'destroy' method is not implemented for this theme.");},getThemeClass:function(a){return"yox-theme-"+this.name+(a?"-"+a:"")},init:function(a,c,b){function d(a,b,e){e.data=c;e.eventsHandler={addEventListener:function(a,b){f.addEventListener(a,b.bind(this))},triggerEvent:function(a,c){f.triggerEvent.call(this,a+"."+b,c,e.id)}};return new n(a,e)}if(!(c instanceof
yox.data))throw Error("Invalid data provided for theme, must be an instance of yox.data.");var f=new yox.eventsHandler;$.extend(this,f);this.create(a);var e=$.extend(!0,{},this.config,b.modules),h;for(h in e){var m=e[h],n=yox[h];if(!n)throw Error("Module not found: '"+h+"', can't create theme '"+this.name+"'.");var k=$(".yox"+h,a);if(m instanceof Array){this.modules[h]=[];for(var o=0;b=m[o];o++)this.modules[h].push(d(k[o],h,b))}else this.modules[h]=d(k[0],h,m)}},config:{},modules:{}};
yox.themes.classic=function(a,c){function b(){}function d(a){var b=$(a);b.toggleClass("yox-theme-classic-button-on");l.triggerEvent("toggle",{action:a.innerHTML,state:b.hasClass("yox-theme-classic-button-on")})}function f(){r&&(q=!q);q?(l.modules.view.option("resizeMode","fit"),g.gallery.style.cursor="none",g.gallery.style.height=document.documentElement.clientHeight-(w?c.thumbnailsHeight:0)+"px"):(g.gallery.style.height=y+"px",g.gallery.style.cursor="default");var a=$(window),b=q?a.on:a.off;b.call(a,
"mousemove",n);r||b.call($(document),"keydown",m);s=!1;h();d(z.fullscreen)}function e(){s=!0;r?q?document.cancelFullScreen():(g.themeContents.style.height="100%",g.themeContents.requestFullScreen()):(q=!q,g.themeContents.style.position=q?"fixed":"relative",g.themeContents.style.height=q?"100%":y,g.themeContents.style.border=q?"none":"solid 1px Black",g.themeContents.style.zIndex=q?"100":"1",f(),l.modules.scroll.updateSize())}function h(){if(s)return!1;k();l.modules.view.update(!0)}function m(a){27===
a.keyCode&&e()}function n(a){if(!v||a.pageX<v.x-3||a.pageX>v.x+3||a.pageY<v.y-3||a.pageY>v.y+3)clearTimeout(u),g.controlsPanel.style.opacity="1",g.gallery.style.cursor="default",u=setTimeout(function(){var b=g.controlsPanel.getClientRects()[0];a.pageY>=b.top&&a.pageY<=b.bottom&&a.pageX>=b.left&&a.pageX<=b.right||(g.controlsPanel.style.opacity="0",g.gallery.style.cursor="none")},1E3);v={x:a.pageX,y:a.pageY}}function k(){var a=q?document.documentElement.clientHeight:g.container.clientHeight;w&&(a-=
c.thumbnailsHeight);g.gallery.style.height=a+"px"}function o(){h();l.triggerEvent("resize")}function i(a){var b=document.createElement("a");b.innerHTML=a.title;b.className=l.getThemeClass("button")+" "+l.getThemeClass("button-"+a.action);b.setAttribute("data-action",a.action);return b}function p(a){var b=document.createElement("a"),c=l.getThemeClass("controlBtn");b.setAttribute("data-method",a);b.className=c+" "+c+"-"+a;b.innerHTML="<div></div>";return b}var l=this,g,u,q,r,s,y,v,x=c.showInfo,w=c.showThumbnails,
z={},t=a.countItems(),A={fullscreen:e,info:function(a){x=!x;g.infoPanel.style.opacity=x?"1":"0";d(a)},slideshow:function(){l.modules.view.toggleSlideshow()},thumbnails:function(a){w=!w;g.gallery.style.height=g.gallery.clientHeight+c.thumbnailsHeight*(w?-1:1)+"px";l.modules.view.update();d(a)}};this.name="classic";this.config={view:{enableKeyboard:!0,enlarge:!0,resizeMode:"fit",transition:yox.view.transitions.fade,transitionTime:300,margin:0,events:{cacheStart:function(){g.loader.style.display="inline"},
cacheEnd:function(){g.loader.style.display="none"},"click.thumbnails":function(a){this.selectItem(a.index,"scroll")},"init.view":function(){this.selectItem(this.options.firstItem||0);g.infoPanel.style.opacity="1"},slideshowStart:function(){d(z.slideshow)},slideshowStop:function(){d(z.slideshow)},beforeSelect:function(a){g.infoText.innerHTML=a.newItem.title||"";g.infoPosition.innerHTML=a.newItem.id;c.showCopyright&&(a.newItem.author?(g.copyright.href=a.newItem.link,g.copyright.innerHTML="&copy; "+
a.newItem.author):g.copyright.innerHTML="")}}},thumbnails:{events:{beforeSelect:function(a){this.select(a.newItem.id-1)},loadItem:function(a){$(this.thumbnails[a.id-1]).addClass("loaded")},"create.thumbnails":function(){this.select(0)}}},scroll:{events:{"create.thumbnails":function(){this.update()},"select.thumbnails":function(a){this.scrollTo(a,{centerElement:!0,time:0.5})},resize:function(){this.updateSize()},beforeSelect:function(a){var b=a.newItem.id-1;l.modules.thumbnails.thumbnails&&this.scrollTo(l.modules.thumbnails.thumbnails[b],
{centerElement:!a.data})}},pressedButtonClass:"enabledThumbnailsButton"},statistics:{category:"yox.js Classic theme",events:{toggle:function(a){this.report({action:"Toggle",label:a.action,value:a.state?1:0})}}}};a.addEventListener("loadSources",function(){g.infoItemsCount.innerHTML=a.countItems();$(g.container).removeClass(l.getThemeClass("loading"))});a.addEventListener("loadSourcesStart",function(){$(g.container).addClass(l.getThemeClass("loading"))});!1!==c.enableFullScreen&&(document.cancelFullScreen=
document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||b,HTMLElement.prototype.requestFullScreen=HTMLElement.prototype.requestFullScreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.webkitRequestFullScreen||b,r=document.cancelFullScreen!==b);!1!==c.enableFullScreen&&r&&document.addEventListener(document.mozCancelFullScreen?"mozfullscreenchange":"webkitfullscreenchange",f,!1);this.create=function(b){$(b).addClass(this.getThemeClass()+(a.isLoading?
" "+this.getThemeClass("loading"):""));g={container:b,themeContents:document.createElement("div"),gallery:document.createElement("div"),viewer:document.createElement("div"),thumbnails:document.createElement("div"),thumbnailsPanel:document.createElement("div"),loader:document.createElement("div"),description:document.createElement("p"),controlsPanel:document.createElement("div"),controls:[],infoPanel:document.createElement("div"),info:document.createElement("div"),infoText:document.createElement("div"),
infoPosition:document.createElement("span"),infoItemsCount:document.createElement("span")};g.$thumbnails=$(g.thumbnails);var e=this.getThemeClass("thumbnailsBtn");g.thumbnailsPanel.className=this.getThemeClass("thumbnailsPanel");g.thumbnailsPanel.style.height=c.thumbnailsHeight-1+"px";g.thumbnailsPanel.innerHTML='<a href="#" class="'+e+" "+e+'_left" data-yoxscroll-holdstart="scroll-left" data-yoxscroll-click="page-left"></a><a href="#" class="'+e+" "+e+'_right" data-yoxscroll-holdstart="scroll-right" data-yoxscroll-click="page-right"></a>';
g.thumbnailsPanel.appendChild(g.thumbnails);this.config.scroll.elements=$("a",g.thumbnailsPanel);g.themeContents.appendChild(g.gallery);g.themeContents.className=this.getThemeClass("contents");b.appendChild(g.themeContents);g.gallery.appendChild(g.viewer);g.gallery.appendChild(g.description);g.themeContents.appendChild(g.thumbnailsPanel);g.gallery.appendChild(g.loader);g.viewer.className=this.getThemeClass("viewer")+" yoxview";g.gallery.className=this.getThemeClass("gallery");g.thumbnails.className=
this.getThemeClass("thumbnails")+" yoxthumbnails yoxscroll";g.thumbnails.style.height=c.thumbnailsHeight+"px";g.loader.className=this.getThemeClass("loader")+" yoxloader";g.description.className=this.getThemeClass("description");g.controlsPanel.className=this.getThemeClass("controls");for(var b=[{title:"Fullscreen",action:"fullscreen"},{title:"Slideshow",action:"slideshow"},{title:"Info",action:"info"},{title:"Thumbnails",action:"thumbnails"}],e=0,f;f=b[e];e++)g.controlsPanel.appendChild(z[f.action]=
i(f));$(g.controlsPanel).on("click","a",function(a){a.preventDefault();A[this.getAttribute("data-action")](this)});g.gallery.appendChild(g.controlsPanel);c.showInfo?d(z.info):g.infoPanel.style.opacity="0";c.showThumbnails&&d(z.thumbnails);b=document.createElement("div");b.className=this.getThemeClass("info-position");b.appendChild(g.infoPosition);b.appendChild(document.createTextNode(" / "));g.infoItemsCount.innerHTML=t;g.infoPosition.innerHTML="0";b.appendChild(g.infoItemsCount);g.info.appendChild(b);
g.infoText.className=this.getThemeClass("info-text");g.info.appendChild(g.infoText);c.showCopyright&&(g.copyright=document.createElement("a"),g.copyright.target="_blank",g.copyright.className=this.getThemeClass("copyright"),g.info.appendChild(g.copyright));g.infoPanel.appendChild(g.info);g.gallery.appendChild(g.infoPanel);g.infoPanel.className=this.getThemeClass("infoPanel");g.info.className=this.getThemeClass("info");g.gallery.appendChild(p("prev"));g.gallery.appendChild(p("next"));y=g.gallery.clientHeight;
k();$(g.gallery).on("mousemove",n).on("click","."+this.getThemeClass("controlBtn"),function(){l.modules.view[this.getAttribute("data-method")]()});$(window).on("resize",o)};this.destroy=function(){$(g.container).removeClass(this.getThemeClass());g.container.removeChild(g.themeContents);g=null;clearTimeout(u);$(window).off("resize",o)}};yox.themes.classic.defaults={showCopyright:!1,showInfo:!0,showThumbnails:!0,thumbnailsHeight:61};yox.themes.classic.prototype=new yox.theme;
yox.themes.inline=function(a,c){function b(){}function d(){p&&(i=!i);i?(o=setTimeout(function(){k.$thumbnails.css({opacity:0});document.body.style.cursor="none"},3E3),n.modules.view.option("resizeMode","fit")):(clearTimeout(o),k.$thumbnails.css("opacity","1"),k.gallery.style.height=l+"px",document.body.style.cursor="default",n.modules.view.option("resizeMode","fill"));e();var a=$(window),b=i?a.on:a.off;b.call(a,"mousemove",m);p||b.call($(document),"keydown",h)}function f(){p?i?document.cancelFullScreen():
(k.gallery.style.height="100%",k.gallery.requestFullScreen()):(i=!i,k.gallery.style.position=i?"fixed":"relative",k.gallery.style.height=i?"100%":l,k.gallery.style.border=i?"none":"solid 1px Black",k.gallery.style.zIndex=i?"100":"1",d())}function e(){n.modules.view.update(!0);g=k.thumbnails.getClientRects()[0]}function h(a){27===a.keyCode&&f()}function m(a){if(!u||a.pageX<u.x-4||a.pageX>u.x+4||a.pageY<u.y-4||a.pageY>u.y+4)clearTimeout(o),k.$thumbnails.css("opacity","1"),document.body.style.cursor=
"default",o=setTimeout(function(){a.pageY>=g.top||(k.$thumbnails.css({opacity:0}),document.body.style.cursor="none")},2E3);u={x:a.pageX,y:a.pageY}}var n=this,k,o,i,p,l,g,u;this.name="inline";this.config={view:{enableKeyboard:!0,enlarge:!0,resizeMode:"fill",transition:"fade",transitionTime:300,events:{cacheStart:function(){k.loader.style.display="inline"},cacheEnd:function(){k.loader.style.display="none"},"click.thumbnails":function(a){this.selectItem(a.index)},"init.view":function(){this.selectItem(0)}}},
thumbnails:{events:{beforeSelect:function(a){this.select(a.newItem.id-1)},loadItem:function(a){$(this.thumbnails[a.id-1]).addClass("loaded")},"create.thumbnails":function(){this.select(0)}}}};document.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||b;HTMLElement.prototype.requestFullScreen=HTMLElement.prototype.requestFullScreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.webkitRequestFullScreen||b;(p=document.cancelFullScreen!==
b)&&document.addEventListener(document.mozCancelFullScreen?"mozfullscreenchange":"webkitfullscreenchange",d,!1);this.create=function(a){$(a).addClass(this.getThemeClass());k={container:a,title:document.createElement("h2"),gallery:document.createElement("div"),viewer:document.createElement("div"),thumbnails:document.createElement("div"),loader:document.createElement("loader"),description:document.createElement("p")};k.$thumbnails=$(k.thumbnails);a.appendChild(k.title);a.appendChild(k.gallery);a.appendChild(k.description);
k.gallery.appendChild(k.viewer);k.gallery.appendChild(k.thumbnails);k.gallery.appendChild(k.loader);k.viewer.className=this.getThemeClass("viewer")+" yoxview";k.title.className=this.getThemeClass("title");k.gallery.className=this.getThemeClass("gallery");k.thumbnails.className=this.getThemeClass("thumbnails")+" yoxthumbnails";k.loader.className=this.getThemeClass("loader")+" yoxloader";k.description.className=this.getThemeClass("description");c.title&&(k.title.innerHTML=c.title);l=k.gallery.clientHeight;
g=k.thumbnails.getClientRects()[0];$(k.gallery).on("dblclick",f);$(window).on("resize",e)};this.destroy=function(){$(k.container).removeClass(this.getThemeClass());k.container.removeChild(k.title);k.container.removeChild(k.gallery);k.container.removeChild(k.description);k=null;$(window).off("resize",e)}};yox.themes.inline.prototype=new yox.theme;
yox.themes.scroll=function(a,c){function b(){d.triggerEvent("resize")}var d=this;this.name="scroll";this.config={thumbnails:[{id:"scroller",useFullImages:!0,events:{beforeSelect:function(a){this.select(a.newItem.id-1)},"select.view":function(a){d.triggerEvent("select.thumbnails",this.thumbnails[a.id-1],"scroller")}}},{id:"thumbnails",events:{beforeSelect:function(a){this.select(a.newItem.id-1)},loadItem:function(a){$(a.thumbnail.element).addClass("loadedThumbnail")}}}],scroll:{events:{"create.thumbnails":function(a,
b){"scroller"===b&&this.update()},"select.thumbnails":function(a){this.scrollTo(a,{centerElement:!0,time:0.5})},resize:function(){this.updateSize()}},toggleButtons:!1},view:{delayOpen:!0,enableKeyboard:!0,events:{"click.thumbnails":function(a,b){"thumbnails"===b&&this.selectItem(a.index)},"click.scroll":function(a){this.selectItem(a.target.parentNode,"yoxscroll")}}}};var f;this.create=function(a){"static"===$(a).css("position")&&a!==document.body&&(a.style.position="relative");a.style.overflow="hidden";
f=document.createElement("div");f.className=this.getThemeClass("wrapper");var d=document.createElement("div");d.className=this.getThemeClass("scroller")+" yoxview yoxthumbnails yoxscroll ";f.appendChild(d);a.appendChild(f);!1!==c.renderThumbnails&&(a=document.createElement("div"),a.className=this.getThemeClass("thumbnails")+" thumbnails yoxthumbnails",f.appendChild(a));a=document.createElement("div");a.className=this.getThemeClass("loader")+" yoxloader";f.appendChild(a);$(window).on("resize",b)};
this.destroy=function(){f.parentNode.removeChild(f);f=null;$(window).off("resize",b)}};yox.themes.scroll.prototype=new yox.theme;
yox.themes.slideshow=function(){var a,c,b,d,f=this;this.name="slideshow";this.config={view:{enableKeyboard:!0,transition:"flip",margin:10,transitionTime:600,events:{beforeSelect:function(b){a.innerHTML=b.newItem.id+" / "+this.items.length},create:function(){this.selectItem(0)}}}};this.create=function(e){function h(a,b){var c=document.createElement("a");c.className=f.getThemeClass("button")+" "+f.getThemeClass("button-"+a);c.setAttribute("data-method",a);c.setAttribute("href","#");c.textContent=b;
return c}c=e;$(e).addClass(this.getThemeClass());b=document.createElement("div");b.className=this.getThemeClass("viewer")+" yoxview";e.appendChild(b);d=document.createElement("div");d.className=this.getThemeClass("controls");e.appendChild(d);d.appendChild(h("first","First"));d.appendChild(h("prev","Previous"));e=document.createElement("span");e.className=this.getThemeClass("position");a=e;d.appendChild(e);d.appendChild(h("next","Next"));d.appendChild(h("last","Last"));$(d).on("click","a",function(a){a.preventDefault();
f.modules.view[this.getAttribute("data-method")]()})};this.destroy=function(){c.removeChild(d);c.removeChild(b);$(c).removeClass(this.getThemeClass())}};yox.themes.slideshow.prototype=new yox.theme;